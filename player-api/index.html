<!DOCTYPE html>
<html>
<head>
	<title>Embed API - Ustream Enterprise Broadcasting API Documentation</title>
	<link rel="shortcut icon" href="http://static-cdn1.ustream.tv/images/favicon.ico" />
	<meta charset="utf-8">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="../css/bootstrap.css" title="" type="text/css" media="screen">
	<link rel="stylesheet" href="../css/bootstrap-theme.css" title="" type="text/css" media="screen">
	<link rel="stylesheet" href="../css/bootstrap-docs.css" title="" type="text/css" media="screen">
	<link rel="stylesheet" href="../css/apidocs.css" title="" type="text/css" media="screen">
</head>
<body>

<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
          <a href="../index.html" class="navbar-brand">Ustream</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
       <li>
        	<a href="../index.html">Overview</a>
        </li>
        <li>
          <a href="../authentication.html">Authentication</a>
        </li>
        <li>
          <a href="../channel.html">Channel API</a>
        </li>
        <li class="dropdown active">
        	<a href="#" class="dropdown-toggle" data-toggle="dropdown">Player API <span class="caret"></span></a>
        	<ul class="dropdown-menu" role="menu">
                <li><a href="https://github.com/ustream/embedapi/blob/master/README.md">Documentation</a></li>
	        	<li><a href="index.html">Basic example</a></li>
				<li><a href="dynamic-frame-insert.html">Dynamic insertion</a></li>
				<li><a href="multiple-instances.html">Multiple instances</a></li>
                <li><a href="fullscreen.html">Fullscreen example</a></li>
        	</ul>
        </li>

        <li class="dropdown">
            <a href="https://github.com/ustream/embedapi" class="dropdown-toggle" data-toggle="dropdown">Player SDK <span class="caret"></span></a>

            <ul class="dropdown-menu" role="menu">
                <li><a href="../player-sdk/ios.html">Player SDK for iOS</a></li>
                <li><a href="../player-sdk/android.html">Player SDK for Android</a></li>
                <li><a href="../player-sdk/roku.html">Player SDK for Roku</a></li>
            </ul>
        </li>
        
        <li><a href="../broadcaster.html">Broadcaster API</a></li>
        <li><a href="../socialstream.html">Social Stream</a></li>  
      </ul>
    </nav>
  </div>
</header>
<div class="bs-docs-header" id="content">
      <div class="container">
        <h1>Player API – Basic example</h1>
      </div>
</div>

<div class="container" id="content-body">
<div class="row">
<div class="col-md-12">
        <div style="padding: 0px 0 20px 0;">
            <span style="display: none;" class="st-live label label-danger">LIVE</span>
            <span style="display: none;" class="st-offline label label-default">OFFLINE</span>
            <span style="display: none;" class="st-playing label label-primary">PLAYING</span>
            <span style="display: none;" class="st-ended label label-success">ENDED</span>
            <span style="" class="st-content label label-warning">channel,1524</span>
            &nbsp;
        </div>

        <div style="width: 680px; float: left; margin-bottom: 100px;">
            <div class="well " >
                <iframe src="http://www.ustream.tv/embed/1524" id="UstreamFrame" width="640" height="392" style="border: 0 transparent none;"></iframe>
            </div>

            <div class="input-group">
                    <span class="input-group-btn">
                        <button class="btn control-content btn-default" type="button"><i class="icon-user"></i> Get Content</button>
                    </span>
                <input class="form-control span2" id="Content" readonly="readonly" type="text">
            </div>



            <h3>Example media</h3>

            <div class="media" data-media="4307895" data-type="channel">
                <a class="pull-left" href="#">
                    <img class="media-object" src="http://static-cdn2.ustream.tv/i/channel/picture/4/3/0/7/4307895/4307895_4307895_creativelive-u_1322590439,66x66,r:1.jpg">
                </a>
                <div class="media-body">
                    <h4 class="media-heading">creativeLIVE <small>channel</small></h4>
                    creativeLIVE provides the best free, live creative education on the web. We offer high-quality workshops in photography, business, video, web and graphic design, and more.
                </div>
            </div>
            <hr />
            <div class="media" data-media="1524" data-type="channel">
                <a class="pull-left" href="#">
                    <img class="media-object" src="http://static-cdn1.ustream.tv/i/channel/picture/1/5/2/4/1524/1524_screenshot2013-01-03at6.4_1357331443,66x66,r:1.jpg">
                </a>
                <div class="media-body">
                    <h4 class="media-heading">TWiT Live <small>channel</small></h4>
                    Live from the TWiT Brick House, non-stop technology news and conversation with Leo Laporte and friends.
                </div>
            </div>
            <hr />
            <div class="media" data-media="6540154" data-type="channel">
                <a class="pull-left" href="#">
                    <img class="media-object" src="http://static-cdn1.ustream.tv/i/channel/picture/6/5/4/0/6540154/6540154_nasatv_public_hr_1330361732,66x66,r:1.jpg">
                </a>
                <div class="media-body">
                    <h4 class="media-heading">NASA Public <small>channel</small></h4>
                    NASA TV airs a variety of regularly scheduled, pre-recorded educational and public relations programming 24 hours a day on its various channels.
                </div>
            </div>
            <hr />
            <div class="media" data-media="24364591" data-type="video">
                <a class="pull-left" href="#">
                    <img class="media-object" src="http://static-cdn2.ustream.tv/i/channel/picture/4/9/8/6/498663/498663_msl_cam_100x75_1286920251,66x66,r:1.jpg">
                </a>
                <div class="media-body">
                    <h4 class="media-heading">Curiosity's Seven Minutes of Terror <small>recorded</small></h4>
                    Video about the Mars Curiosity rover landing
                </div>
            </div>
            <hr />
            <div class="media" data-media="25728478" data-type="video">
                <a class="pull-left" href="#">
                    <img class="media-object" src="http://static-cdn1.ustream.tv/i/channel/picture/6/0/2/9/6029144/6029144_youtube_beatport_1312827936,66x66,r:1.jpg">
                </a>
                <div class="media-body">
                    <h4 class="media-heading">Paul van Dyk Beatport Live <small>recorded</small></h4>
                    Beatport is the world's leading music store and community for DJs. Join our crowd here on Ustream and be notified when we stream live every Friday from our offices in Berlin, Germany and Denver, Colorado USA.
                </div>
            </div>


        </div>

        <form class="form-inline" action="#">
            <fieldset style="margin: 0 20px; float: left; width: 200px;">


                <button class="btn btn-default control-play" type="button"><i class="icon-play"></i> Play</button>
                <button class="btn control-pause btn-default" type="button"><i class="icon-pause"></i> Pause</button>


                <hr />
                <div class="input-group">
                    <span class="input-group-btn">
                        <button class="btn control-seek btn-default" type="button"><i class="icon-forward"></i> Seek to</button>
                    </span>
                    <input class="form-control span2" id="SeekTo" type="text">
                </div>
                <hr />
                <div class="input-group">
                    <span class="input-group-btn">
                        <button class="btn control-volume btn-default" type="button"><i class="icon-volume-up"></i> Set volume</button>
                    </span>
                    <input class="form-control span2" value="100" id="SetVolume" type="number">
                </div>
                <hr />
                <div class="input-group">
                    <span class="input-group-btn">
                        <button class="btn control-duration btn-default" type="button"><i class="icon-time"></i> Get Duration</button>
                    </span>
                    <input class="form-control span2" id="Duration" readonly="readonly"  type="text">
                </div>
                <hr />
                <div class="input-group">
                    <span class="input-group-btn">
                        <button class="btn control-progress btn-default" type="button"><i class="icon-map-marker"></i> Get Progress</button>
                    </span>
                    <input class="form-control span2" id="Progress" readonly="readonly"  type="text">
                </div>
                <hr />
                <div class="input-group">
                    <span class="input-group-btn">
                        <button class="btn control-viewers btn-default" type="button"><i class="icon-user"></i> Get Viewers</button>
                    </span>
                    <input class="form-control span2" id="Viewers" readonly="readonly" type="text">
                </div>
                <hr />
                <div class="input-group">
                    <input class="span2 form-control"  type="number" placeholder="content id" id="LoadContent">
                    <div class="input-group-btn">

                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Load <span class="caret"></span></button>


                        <ul class="dropdown-menu">
                            <li><a href="#" class="control-load-channel">channel</a></li>
                            <li><a href="#" class="control-load-video">video</a></li>

                        </ul>
                    </div>
                </div>
                <hr />


                <div class="dropdown">
                    <button type="button" class="btn btn-default dropdown-toggle btn-block" data-toggle="dropdown">
                        Quality
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu quality-selector">
                    </ul>
                </div>

                <hr />



            </fieldset>
        </form>
    </div>
</div>
</div>
<footer>
	<p class="footer-tagline">USTREAM You're on!</p>
	<p class="footer-copy">© 2015 Ustream, Inc. All rights reserved.</p>
</footer>

		<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
		<script type="text/javascript" src="../js/bootstrap.js"></script>
		<script src="../js/ustream-embedapi.min.js"></script>

    <script type="text/javascript">

        $(document).ready(function () {

            var viewer = UstreamEmbed("UstreamFrame");

            $('.media').on("click", function (e) {
                clearFields();

                var target = $(e.currentTarget),
                        media = target.data('media'),
                        type = target.data('type');

                viewer.callMethod('load', type, media);

                e.preventDefault();
            });


            /*
             set up controls
             */
            $("#content-body").on("click", '.btn, .dropdown-menu a', function (e) {
                var target = $(e.currentTarget),
                        control = target[0].className.match(/control-([a-zA-Z0-9\-]*)/);

                if (control && control[1]) {

                    switch (control[1]) {

                        case "play":
                            viewer.callMethod('play');
                            break;
                        case "pause":
                            viewer.callMethod('pause');
                            break;
                        case "seek":
                            viewer.callMethod('seek', $("#SeekTo").val());
                            break;
                        case "volume":
                            viewer.callMethod('volume', $("#SetVolume").val());
                            break;
                        case "duration":
                            viewer.getProperty('duration', function (data) {
                                $('#Duration').val(data);
                            });
                            break;
                        case "progress":
                            viewer.getProperty('progress', function (data) {
                                $('#Progress').val(data);
                            });
                            break;
                        case "viewers":
                            viewer.getProperty('viewers', function (data) {
                                $('#Viewers').val(data);
                            });
                            break;
                        case "content":
                            viewer.getProperty('content', function (data) {
                                $('#Content').val(data.join(','));
                            });
                            break;
                        case "load-video":
                            clearFields();
                            viewer.callMethod('load', 'video', $("#LoadContent").val());
                            break;
                        case "load-channel":
                            clearFields();
                            viewer.callMethod('load', 'channel', $("#LoadContent").val());
                            break;
                        case "quality":
                            viewer.callMethod('quality', target.data('quality'));
                            break;

                    }

                }

                e.preventDefault();
            });


            /*
             populate quality selector with receiced data
             */
            var populateQualitySelector = function (data) {
                var list =  $('.quality-selector');
                list.find('li').remove(); // remove previously set data
                for (var id in data) {
                    list.append('<li><a href="#" class="control-quality" data-quality="' + id + '">' + data[id].label + '</a></li>')
                }
            }

            /*
             clear some data fields that are relevant to content
             */
            var clearFields = function () {
                populateQualitySelector({});
                $('#Progress').val('');
                $('#Viewers').val('');
                $('#Duration').val('');

                $('.st-ended').hide();
                $('.st-playing').hide();
                $('.st-offline').hide();
                $('.st-live').hide();
            }

            /*
             event handler for events received from the embed iframe
             */
            var onEmbedEvent = function (event, data) {
                switch (event) {
                    case "ready":
                        clearFields();
                        break;
                    case "quality":
                        populateQualitySelector(data);
                        break;
                    case "live":
                        $('.st-live').show();
                        $('.st-offline').hide();
                        break;
                    case "offline":
                        $('.st-offline').show();
                        $('.st-live').hide();
                        break;
                    case "playing":
                        if (data) {
                            $('.st-playing').show()
                        } else {
                            $('.st-playing').hide();
                        }
                        break;
                    case "finished":
                        $('.st-ended').show();
                        break;
                    case "content":
                        $('.st-content').text(data.join(','));
                        break;
                    case "size":
                        break;
                }
            }

            viewer.addListener('ready', onEmbedEvent);
            viewer.addListener('quality', onEmbedEvent);
            viewer.addListener('live', onEmbedEvent);
            viewer.addListener('offline', onEmbedEvent);
            viewer.addListener('playing', onEmbedEvent);
            viewer.addListener('finished', onEmbedEvent);
            viewer.addListener('size', onEmbedEvent);
            viewer.addListener('content', onEmbedEvent);

        });

    </script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-1359697-47', 'auto');
      ga('send', 'pageview');
    </script>
</body>
</html>
	